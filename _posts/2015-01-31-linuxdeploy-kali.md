---
layout: post
title: Запуск дистрибутива Kali Linux из образа
date: 2015-01-31 15:30:00 +0300
categories: [linuxdeploy]
comments: true
---

Дистрибутив [Kali Linux](https://www.kali.org) основан на Debian и позиционируется как дистрибутив для тестирования информационной безопасности. Установка этого дистрибутива в Linux Deploy полностью поддерживается в автоматическом режиме с установкой из официального репозитория (см. [инструкцию по установке GNU/Linux](/blog/2012/11/18/linuxdeploy-guide/) и [инструкцию на сайте www.kali.org](https://www.kali.org/how-to/kali-linux-android-linux-deploy/)), однако в некоторых случаях может понадобиться установка из уже готового образа без доступа в Интернет.

![linuxdeploy](/assets/images/linuxdeploy-kali-xfce.png "Kali Linux"){: .center}

<!--more-->

### Инструкция

* Скачать [архив ARM образа](https://www.offensive-security.com/kali-linux-vmware-arm-image-download/) (например, для Raspberry Pi) и распаковать.

* Извлечь из полного образа образ второго раздела (выполнять из-под Linux):
```sh
kpartx -v -a kali-1.0.9-rpi.img
dd if=/dev/mapper/loop0p2 of=/tmp/kali.img bs=1M
```
Для образа Raspberry Pi это второй раздел, для образов других устройств нормер раздела может отличаться. Посмотреть таблицу разделов в образе можно командой:
```sh
fdisk -l kali-1.0.9-rpi.img
```

* Скопировать файл kali.img на карту памяти устройства. Если образ занимает более 4095 МБ, то карта памяти должна быть отформатирована в файловой системе exFAT, NTFS или другой, которая поддерживается на устройстве и может хранить файлы размером более 4 ГБ.

* В приложении Linux Deploy создать новый профиль и в параметрах указать: Дистрибутив - Kali Linux; Версия дистрибутива - kali; Тип установки - Файл; Путь установки - путь к файлу kali-linux.img (например, /storage/sdcard1/kali.img); Окружение рабочего стола - Xfce.

* Выполнить переконфигурацию (Параметры -> Переконфигурировать).

* Запустить GNU/Linux систему кнопкой СТАРТ из главного окна приложения.

* Подключиться по SSH или VNC, пароль - changeme.

