---
layout: post
title: Описание параметров Linux Deploy
date: 2012-11-19 18:00:00 +0300
categories: [linuxdeploy]
comments: true
---

Ниже приведено описание параметров Linux Deploy для установки дистрибутивов GNU/Linux на Android.

<!--more-->

Настраиваемые параметры Linux Deploy:

* *Параметры -> Установить (Properties -> Install)*

Запускает новую установку GNU/Linux системы. При установке используются заданные ниже параметры.

* *Параметры -> Переконфигурировать (Properties -> Reconfigure)*

Позволяет выполнить перенастройку уже установленной системы. Все параметры текущей системы будут сконфигурированы заново, в том числе будет сброшен пользовательский пароль.

* *Параметры -> Экспортировать (Properties -> Export)*

Позволяет сохранить архив корневой файловой системы контейнера. Нужно указать путь к архиву. В зависимости от указанного расширения файла (поддерживаются архивы tar.gz или tar.bz2) будет создан архив указанного типа.

* *Параметры -> Дистрибутив (Properties -> Distribution)*

Указывает какой дистрибутив следует установить. От выбора этого параметра зависят ряд других параметров развертывания системы.

* *Параметры -> Версия дистрибутива (Properties -> Distribution suite)*

Позволяет указать одну из нескольких доступных версий выбранного дистрибутива.

* *Параметры -> Архитектура (Properties -> Architecture)*

Выбор архитектуры указывает на то, какую сборку дистрибутива устанавливать. Например, сборка armhf отличается от armel поддержкой набора инструкций процессора, которые позволяют выполнять операции с плавающей точкой на аппаратном уровне (hardware floating point). В то время как armel поддерживает лишь программную реализацию (software floating point). Благодаря оптимизации под современные процессоры сборка armhf потенциально работает быстрее, однако она не запустится на процессоре, который не поддерживает новые инструкции. Следует учесть, что некоторые версии дистрибутивов могут не поддерживать ту или иную архитектуру из списка. При выборе архитектуры x86 на устройствах с архитектурой ARM будет использоваться режим эмуляции ахритектуры с помощью QEMU, однако эмуляция архитектуры снижает производительность примерно в 3-4 раза. Эмуляция будет работать только на устройствах, где ядро собрано с поддержкой модуля binfmt_misc.

* *Параметры -> URL-адрес зеркала (Properties -> Mirror URL)*

Указывается адрес репозитория, с которого будет производиться установка выбранного дистрибутива.

* *Параметры -> Тип установки (Properties -> Installation type)*

Этот параметр определяет какой тип установки будет использоваться. Поддерживается несколько различных варианта установки: в loop-файл образа диска, в раздел на карте памяти, в оперативную память, в директорию или пользовательский вариант. По умолчанию выбрана установка в файл. При пользовательском типе установки пропускается этап создания файла образа диска и файловой системы. Это позволяет выполнять установку на заранее подготовленные носители. Например, это может быть образ (либо раздел) со специфичной файловой системой. В качестве пути установки в этом случае можно указывать любой возможный носитель (файл, раздел карты памяти или директория), тип носителя определяется автоматически. Нужно быть осторожным при установке в этом режиме. В данном случае никакая информация из существующего образа (раздела, директории) не удаляется, а установка осуществляется поверх имеющихся данных, что может привести к конфликтам во время установки. При установке в память создается виртуальный диск заданного объема в оперативной памяти устройства используя файловую систему tmpfs.

* *Параметры -> Путь установки (Properties -> Installation path)*

Путь установки указывает на путь к файлу, блочному устройству или директории, в зависимости от выбранного типа установки. По умолчанию указан путь к файлу образа на карте памяти, если путь до карты отличается от /mnt/sdcard, то нужно подправить его на правильный путь. При установке будет создан файл образа, размер которого задается параметром Размер образа (МБ) (Image size (MB)). При установке системы на раздел карты памяти требуется указать путь к разделу, например /dev/block/mmcblk1p1. Список доступных разделов можно получить при вызове системной информации из пункта меню Состояние (Status). Предварительно можно разбить карту на несколько разделов, использовав один раздел под систему GNU/Linux, а другой оставить доступным для Android. Раздел, на которые устанавливается систему GNU/Linux, не может быть использован для нужд Android или чего-либо еще. Третий вариант установки - установка в один из каталогов системы Android. Этот вариант может быть использован в случае, если у вас уже есть смонтированный раздел с файловой систему ext2/ext3/ext4 для каких-то нужд и вы хотите использовать уже имеющуюся файловую систему для развертывания образа GNU/Linux.

* *Параметры -> Размер образа (МБ) (Properties -> Image size (MB))*

Параметр задает размер файла образа диска в мегабайтах и активен только в случае выполнения установки в файл образа или оперативную память. Рекомендованный минимальный размер образа диска без графического интерфейса - 512 МБ, а с графическим интерфейсом - 1024 МБ (для LXDE). При установке Linux в образ на карту памяти с файловой системой FAT32 размер образа не должен превышать 4095 МБ.

* *Параметры -> Файловая система (Properties -> File system)*

Этот параметр определяет в какой файловой системе будет создан новый образ или раздел на карте памяти. Если параметр установлен как «Автоопределение», то будет выбрана наиболее подходящая и поддерживаемая файловая система. Параметр игнорируется при выполнении установки в директорию.

* *Параметры -> Имя пользователя (Properties -> User name)*

Параметр определяет имя для пользователя в Linux-системе. Следует помнить, в дистрибутивах GNU/Linux есть ряд зарезервированных имен, которые не рекомендуется использовать в качестве имени пользователя. В качестве имени пользователя можно указать имя суперпользователя - root.

* *Параметры -> DNS-сервер (Properties -> DNS server)*

Параметр позволяет указать IP-адрес DNS сервера сети, например 8.8.8.8. Если требуется указать несколько адресов, то их можно причислить через пробел или один из символов «,;». Если поле оставить пустым, то будет осуществляться автоматическое определение параметров DNS при каждом запуске контейнера.

* *Параметры -> Локализация (Properties -> Localization)*

Параметр позволяет задать язык локализации системы.

* *Параметры -> Окружение рабочего стола (Properties -> Desktop environment)*

Можно выбрать одно из предложенных окружений рабочего стола. В процессе установки или переконфигурации GNU/Linux-системы будут выполнены настройки профиля пользователя для запуска выбранного окружения рабочего стола. Если выбрано "Другое (Other)", то настройка выполняться не будет. Данный пункт можно выбирать в случае, если настройка запуска окружения рабочего стола выполняется вручную.

* *Параметры -> Выбрать компоненты (Properties -> Select components)*

Параметр позволяет отмечать необходимые для установки компоненты, такие как SSH сервер, VNC сервер, окружение рабочего стола, X-сервер и др. Если при установке не были выбраны некоторые компоненты, то запуск соответствующих служб будет недоступен. Установку и настройку любых компонентов можно выполнить вручную стандартными интсрументами конкретного дистрибутива.

* *Параметры -> Chroot директория (Properties -> Chroot directory)*

Указывает директорию, куда будет смонтирован контейнер и выполнен chroot. При работе с несколькими профилями можно для каждого профиля указать разные chroot директории, таким образом появится возможность запускать несколько контейнеров одновременно.

* *Параметры -> SSH (Properties -> SSH)*

Установка параметра разрешает запуск SSH сервера при старте контейнера.

* *Параметры -> Параметры SSH (Properties -> SSH settings)*

Открывает окно настроек SSH сервера.

* *Параметры -> GUI (Properties -> GUI)*

Установка параметра разрешает запуск окружения рабочего стола при старте системы через выбранную графическую подсистему (VNC, внешний X-сервер, фрейм-буфер).

* *Параметры -> Графическая подсистема (Properties -> Graphics subsystem)*

Можно выбрать одну из трех графических подсистем для запуска окружения рабочего стола: VNC, X Server, Framebuffer. Выбор подсистемы VNC позволяет запускать графический интерфейс пользователя через VNC сервер, подключиться к которому можно через сторонний VNC клиент. Выбор подсистемы X Server позволяет запускать графический интерфейс пользователя через внешний X-сервер. Выбор подсистемы Framebuffer позволяет отображать графический интерфейс пользователя напрямую (в обход Android) через видеодрайвер. Данный режим поддерживается не на всех устройствах.

* *Параметры -> Параметры GUI (Properties -> GUI settings)*

Открывает окно настроек выбранной графической подсистемы.

* *Параметры -> Сценарии пользователя (Properties -> Custom scripts)*

Позволяет автоматически запускать любые сценарии внутри GNU/Linux-системы при её запуске. При запуске и остановке системы сценарию в качестве параметра будут переданы start или stop, соответственно.

* *Параметры -> Список сценариев (Properties -> List of scripts)*

Открывает список пользовательских сценариев для автозапуска. Список можно редактировать используя контекстное меню.

* *Параметры -> Монтирование (Properties -> Custom mounts)*

Позволяет смонтировать в контейнере один из каталогов, образов или разделов системы Android.

* *Параметры -> Точки монтирования (Properties -> Mount points)*

Открывает список пользовательских сценариев для автозапуска. Список можно редактировать используя контекстное меню. Можно указать каталог, например /mnt/sdcard, для подключения к запускаемой системе внешней карты памяти, либо можно указать блочное устройство, например /dev/block/mmcblk1p2, чтобы смонтировать в запускаемой системе один из разделов карты.
